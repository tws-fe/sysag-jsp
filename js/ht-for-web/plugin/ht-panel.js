!function(i,D,Z){"use strict";var T="ht",q=i[T],H=q.Default,d=H.isTouchable,z=q.Color,M="px",e="0",o="innerHTML",E="className",P="position",u="absolute",Q="width",S="height",U="left",I="top",g="right",L="bottom",A="max-width",j="max-height",V=null,K="none",y="",l=i.parseInt,m=i.setTimeout,a=H.getInternal(),w=H.animate,r=z.titleIconBackground,x=function(){return document},G=function(u){return x().createElement(u)},v=function(){return G("div")},X=function(){return G("canvas")},Y=function(_,c,u){_.style.setProperty(c,u,V)},n=function(I,Q){return I.style.getPropertyValue(Q)},F=function(A,M){A.appendChild(M)},B=function(B,K){B.removeChild(K)},f=function(X){var $=X.scrollWidth,L=X.scrollHeight;return X===x().body&&($=Math.max($,x().documentElement.scrollWidth),L=Math.max(L,x().documentElement.scrollHeight)),{width:$,height:L}},R=function(F){var R=F.touches[0];return R?R:F.changedTouches[0]};a.addMethod(H,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:r,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:r}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:r},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:r}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:r},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:r}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:r},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:r},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:r},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:r}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:r},{type:"rect",rect:[10,118,268,56],background:r},{type:"rect",rect:[10,213,268,56],background:r}]},panelTitleLabelColor:H.labelSelectColor,panelTitleLabelFont:H.labelFont,panelContentLabelFont:H.labelFont,panelTitleBackground:z.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:Z},!0);var b=q.widget.Panel=function(b){var G=this,E=G._view=v();G.$1i=0,G.$18i=new q.Notifier,G.$2i="leftTop",Y(E,I,e),Y(E,U,e),Y(E,P,u),Y(E,"overflow","hidden"),G._interactor=new O(G),G.setConfig(b),G.addEventListener(function(g){var Y=G.getPanelConfig(g.id),C=Y.content;("beginRestore"===g.kind||"betweenResize"===g.kind||"endToggle"===g.kind)&&(C&&C.invalidate&&C.invalidate(),Y.items&&Y.items.forEach(function(e){e&&e.content&&e.content.invalidate&&e.content.invalidate()}))})};H.def(b,D,{ms_v:1,_dragContainment:"parent",setConfig:function(d){function b(o){o.expanded=!o.expanded,J.togglePanel(o.id,!0,!0)}if(d){var J=this;J._view[o]=y,J._config=d,J.$35i=[],d.expanded==V&&(d.expanded=d.expand!=V?d.expand:!0);var _=J._view,N=J.$24i(d,_,!0),C=N[2],U=d.width;J.$35i.push(N[1]),d.items&&d.items.forEach(function(F){F.expanded==V&&(F.expanded=F.expand!=V?F.expand:!0);var i=J.$24i(F,C.children[0]);J.$35i.push(i[1])});var O=v();Y(O,Q,10+M),Y(O,S,10+M),Y(O,P,u),Y(O,L,e),Y(O,g,e),O[E]="resize-area",F(_,O),J.$10i(),d.flowLayout&&Y(_,P,"relative"),Y(_,"opacity",e),F(x().body,_),U==V&&(U=_.offsetWidth),Y(_,Q,U+M),Y(_,A,U+M),d.items&&d.items.forEach(function(y){b(y)}),d.buttons&&d.buttons.indexOf("toggle")<0||b(d),d.minimized==V&&d.minimize!=V&&(d.minimized=d.minimize),d.minimized&&d.minimizable!==!1&&J.minimize(!0),B(x().body,_),Y(_,"opacity",y),J.iv()}},getPanelConfig:function(Z){var O=this,W=O._config,M=W.items;if(W.id===Z)return W;if(M)for(var H=0;H<M.length;H++){var g=M[H];if(g.id===Z)return g}},getPanelView:function(F){for(var b=this,r=b.$35i,E=0;E<r.length;E++){var v=r[E],Z=v.parentNode;if(Z.$15i===F)return Z}},setDragContainment:function(N){this._dragContainment=N},getDragContainment:function(){return this._dragContainment},$20i:function(){var C=this._config,b=C.restoreIconSize||24;return b},$5i:function(W){var f=W.titleIconSize||16;return d&&(f*=1.2),f},$4i:function(n){var G=n.titleHeight||H.widgetTitleHeight;return G},setTitle:function(L,i){if(i==V&&(i=this._config.id),i!=V){var o=this.getPanelConfig(i),h=this.getPanelView(i);o.title=L,h.querySelector(".panel-title span").innerHTML=L}},setInnerPanel:function(R){var Z,p,q=this,U=R.id,j=q.$35i,x=!1;if(R.expanded==V&&(R.expanded=!0),U!=V){var N=q.getPanelConfig(U);if(N){x=!0;var J,d=q.getPanelView(U),m=d.parentNode,A=d.children[0];if(d!==q._view){q.$11i();for(J in N)delete N.key;for(J in R)N[J]=R[J];Z=q.$24i(R,m,!1,d),p=Z[1],m.removeChild(d);for(var n=0;n<j.length;n++)if(j[n]===A){j.splice(n,1,p);break}q.$12i(),N.expanded=!N.expanded,q.togglePanel(N.id,!0,!0),q.iv()}}}if(!x){q.$11i(),Z=q.$24i(R,q._view.children[1]),p=Z[1],j.push(p),q._config.items||(q._config.items=[]);var k=q._config.items;if(k.push(R),q.$12i(),k.length>1){var c=k[k.length-2],S=q.getPanelView(c.id).children[0];Y(S,"border-bottom",q.$55i(c))}R.expanded=!R.expanded,q.togglePanel(R.id,!0,!0),q.iv()}},removeInnerPanel:function(v){var y,J=this,m=-1,D=J._config.items;if(D)for(y=0;y<D.length;y++){var c=D[y];if(c.id===v){m=y;break}}if(J.$11i(),m>=0){var j=J.$35i,L=J.getPanelView(v),N=L.children[0];for(y=0;y<j.length;y++)if(j[y]===N){j.splice(y,1);break}D.splice(m,1),L.parentNode.removeChild(L)}if(J.$12i(),D.length>0){var z=D[D.length-1],W=J.getPanelView(z.id).children[0];Y(W,"border-bottom",J.$55i(z))}},$6i:function(z){Y(z,"cursor","pointer"),Y(z,"display","inline-block"),Y(z,"margin-right",(d?8:4)+M),Y(z,"vertical-align",I)},$24i:function(x,i,q,p){var W=this,s=W._config.flowLayout,k=q?i:v(),z=W.$50i(x),I=W.$3i(x,q);k[E]="ht-widget-panel"+(q?" outer-panel":" inner-panel"),x.borderWidth==V&&(x.borderWidth=q?2:0);var $=x.borderWidth;if($="0 "+$+M+" "+$+M+" "+$+M+" ",Y(k,"padding",$),F(k,I),F(k,z),q||(p?i.insertBefore(k,p):F(i,k)),!s&&q&&x.minimizable!==!1){var K=X(),Q=W.$20i(),f=x.restoreToolTip;a.setCanvas(K,Q,Q),K[E]="control-button button-minimize button-minimize-restore",W.$6i(K),Y(K,"display","none"),F(i,K),K.title=f||""}var S=x.titleBackground||H.panelTitleBackground;if(Y(k,"background-color",S),x.id==V){for(var c=W.$1i++;W.getPanelConfig(c);)c=W.$1i++;x.id=c}return k.$15i=x.id,x.width&&(k.style.width=x.width+M),[k,I,z]},$9i:function(S){var m=X();m[E]="control-button button-toggle button-toggle-expand",m.title=S.toggleToolTip||"";var r=this.$4i(S),w=this.$5i(S);return this.$6i(m),a.setCanvas(m,w,r),m},$8i:function(m){var M=X(),p="control-button button-independent-switch";M[E]=m.independent===!0?p+" button-independent-switch-on":p+" button-independent-switch-off",M.title=m.independentSwitchToolTip||"";var x=this.$4i(m),S=this.$5i(m);return this.$6i(M),a.setCanvas(M,S,x),M},$7i:function(S){var $=X();$[E]="control-button button-minimize button-minimize-minimize",$.title=S.minimizeToolTip||"";var P=this.$4i(S),x=this.$5i(S);return this.$6i($),a.setCanvas($,x,P),$},$55i:function(S){var p=this._config,B=p.items,J=S.separatorWidth||H.panelSeparatorWidth,Y=S.titleBackground||H.panelTitleBackground,v=S.expanded!==!1?Y:S.separatorColor||H.panelSeparatorColor||H.brighter(Y);return(p===S||B&&B.indexOf(S)===B.length-1)&&(J=0),J+M+" solid "+v},$3i:function(h,n){var r=this,R=r._config.flowLayout,$=v(),T=v(),d=r.$4i(h),J=h.titleBackground,V=h.titleColor,f=h.titleIcon,c=h.buttons;if($[E]="panel-title",Y($,P,"relative"),Y($,"background",J||H.panelTitleBackground),Y($,"color",V||H.panelTitleLabelColor),Y($,I,e),Y($,"box-sizing","border-box"),Y($,"-moz-box-sizing","border-box"),Y($,"padding","0 5px 0 0"),Y($,Q,"100%"),Y($,"cursor","default"),Y($,"white-space","nowrap"),Y($,"font",H.panelTitleLabelFont),f){var b=X();b[E]="control-button panel-title-icon";var l=r.$4i(h),w=r.$5i(h);r.$6i(b),a.setCanvas(b,w,l),F($,b)}var i=G("span");Y(i,"display","inline-block"),Y(i,"margin-left","5px"),i[o]="<span>"+h.title+"</span>",F($,i),Y($,"line-height",d+M),T[E]="panel-title-controls",Y(T,P,u),Y(T,U,e),Y(T,g,5+M),Y(T,I,e),Y(T,L,e),Y(T,"text-align",g);var C=function(){var N=r.$9i(h);F(T,N)},p=function(){if(!R&&n&&h.minimizable!==!1){var Q=r.$7i(h);F(T,Q)}},A=function(){if(!n){var v=r.$8i(h);F(T,v)}},S=function(c){var i=X();i[E]="control-button custombutton-"+c.name,i.title=c.toolTip||"",i._action=c.action;var n=r.$4i(h),w=r.$5i(h);r.$6i(i),a.setCanvas(i,w,n),F(T,i)};if(c)for(var W=0;W<c.length;W++){var K=c[W];"string"==typeof K?"minimize"===K?p():"independentSwitch"===K?A():"toggle"===K&&C():"object"==typeof K&&S(K)}else p(),C();return F($,T),$},$50i:function(X){var w=v(),R=X.contentHeight,L=v();if(Y(L,P,"relative"),w[E]="panel-body",Y(w,"overflow","hidden"),Y(w,"background","white"),Y(w,"font",H.panelContentLabelFont),F(w,L),X.content){var x;X.content.getView?(F(L,X.content.getView()),x=L.children[0]):X.content instanceof Element?(F(L,X.content),x=L.children[0]):L[o]=X.content,x&&(Y(x,Q,"100%"),Y(x,S,"100%")),R&&Y(L,S,R+M)}return w},$10i:function(){var B=this,T=B._config,p=B._view,P=p.querySelector(".resize-area").style;P.display=T.flowLayout||T.minimized===!0||T.expanded===!1?K:"block"},$11i:function(){var C=this._view,i=C.children[1];this.$13i>=0?this.$13i++:this.$13i=1,Y(i,j,y),Y(C,A,y)},$12i:function(){var C=--this.$13i;if(0===C){var Z=this._view,c=Z.children[1];Y(c,j,c.scrollHeight+M),Y(Z,A,Z.offsetWidth+M)}},$14i:function(){var i=this._view,o=i.children[0],O=o.children[1].children,I=this._config,l=0;i.$26i=i.offsetWidth,l+=o.children[0].offsetWidth,I.titleIcon&&(l+=o.children[1].offsetWidth,O=o.children[2].children);for(var s=0;s<O.length;s++){var R=O[s];l+=R.offsetWidth+5}i.$51i=l+15},togglePanel:function(l,z,X){function m(N){var U=N.target,i=U.parentNode,J=t.getPanelConfig(i.$15i);delete i.$19i,U!==g&&t.$12i(),t.$18i.fire({kind:"endToggle",target:t,id:J.id})}for(var t=this,I=t._view,g=I.children[1],n=V,s=t.$35i,f=s.length,d=t._config.exclusive,u=t.$2i,x=[],i=t._config.narrowWhenCollapse,B=0;f>B;B++){var b=s[B],$=b.parentNode,r=$.$15i,Z=t.getPanelConfig(r);r===l&&(n=$),!z&&d&&Z.expanded&&$!==I&&r!==l&&Z.independent!==!0&&x.push($)}if(n&&!n.$19i){n.$19i=!0;var L=n.children[1],o=n.querySelector(".button-toggle"),_=t.getPanelConfig(n.$15i);if(!o)return;n===I||_.expanded||_.independent===!0||x.forEach(function(K){t.togglePanel(K.$15i,!0)}),n!==I&&t.$11i();var P=200;if(X&&(P=0),t.$18i.fire({kind:"beginToggle",target:t,id:n.$15i}),_.expanded){var R=function(){o[E]="control-button button-toggle",o[E]+=u.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",Y(L,Q,L.clientWidth+M),_.expanded=!1,Y(n.children[0],"border-bottom",t.$55i(_)),w(L).duration(P).set("opacity",e).set(j,e).end(m),i&&n===I&&w(n).duration(P).set(A,n.$51i+M).end(),n[E]+=" panel-collapse",w(n).duration(P).set("padding-bottom",e).end(),t.$28i(_,!0),t.$10i()};i&&n===I&&t.$14i(),R()}else o[E]="control-button button-toggle",o[E]+=u.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",Y(L,Q,y),_.expanded=!0,Y(n.children[0],"border-bottom",t.$55i(_)),w(L).duration(P).set("opacity","1").set(j,L.scrollHeight+M).end(m),i&&n===I&&w(n).duration(P).set(A,(n.$26i||n.offsetWidth)+M).end(),n[E]=n[E].replace(" panel-collapse",y),w(n).duration(P).set("padding-bottom",_.borderWidth+M).end(),t.$28i(_,!0),t.$10i()}},$16i:function(){var P=this._view,j=P.$22i,W=P.$23i,$=this.$2i;return j==V&&($.indexOf(U)>=0?j=P.$22i=0:$.indexOf(g)>=0&&(j=P.$22i=100)),W==V&&($.indexOf("Top")>=0?W=P.$23i=0:$.indexOf("Bottom")>=0&&(W=P.$23i=100)),[j,W]},$25i:function(){var w=this,s=w._view,N=s.$21i,O=w.$20i(),v=w.$16i(),a=v[0],t=v[1],p=w.$2i;s.children[0].style.display=K,s.children[1].style.display=K,s.children[2].style.display=y,Y(s,"padding",e),Y(s,A,O+M),"leftTop"===p?(Y(s,U,l(n(s,U))+(N.width-O)*a/100+M),Y(s,I,l(n(s,I))+(N.height-O)*t/100+M)):"leftBottom"===p?(Y(s,U,l(n(s,U))+(N.width-O)*a/100+M),Y(s,L,l(n(s,L))+(N.height-O)*(1-t/100)+M)):"rightTop"===p?(Y(s,g,l(n(s,g))+(N.width-O)*(1-a/100)+M),Y(s,I,l(n(s,I))+(N.height-O)*t/100+M)):"rightBottom"===p&&(Y(s,g,l(n(s,g))+(N.width-O)*(1-a/100)+M),Y(s,L,l(n(s,L))+(N.height-O)*(1-t/100)+M)),s[E]+=" panel-minimized",w.$18i.fire({kind:"endMinimize",target:w,id:s.$15i})},$17i:function(){var u=this,$=u._config,P=u._view;Y(P,"-webkit-transform",y),Y(P,"-ms-transform",y),Y(P,"transform",y),$.minimized?u.$25i():(u.$18i.fire({kind:"endRestore",target:u,id:$.id}),P[E]=P[E].replace(" panel-minimized",y)),delete P.$19i},minimize:function(O){var J=this,v=J._view;if(!v.$19i&&v.children[0].style.display!==K){var T=J._config,l=v.getBoundingClientRect(),W=J.$20i(),P=l.width,s=l.height,E=W/P,c=W/s,D=J.$16i(),C=D[0],U=D[1];v.$52i=E,v.$53i=c,v.$21i=l,J.$18i.fire({kind:"beginMinimize",target:J,id:v.$15i});var e=200;O&&(e=0),T.minimized=!0,v.$19i=!0,T.expanded&&(v.$26i=v.offsetWidth);var f=C+"% "+U+"%";Y(v,"-webkit-transform-origin",f),Y(v,"-ms-transform-origin",f),Y(v,"transform-origin",f),w(v).duration(e).scale(E,c).end(function(){J.$17i()}),J.$10i()}},restore:function(){var o,$,c,E,S,k,D,O,p,W,b,s,t=this,R=t._view,J=R.parentNode,C=t._config;if(!R.$19i&&C.minimized){var Z=R.$21i,B=R.$52i,N=R.$53i,e=C.borderWidth+M,x=e,d=e,r=0,F=t.$20i(),y=f(J),a=t.$2i;"leftTop"===a?(o=l(n(R,U)),c=l(n(R,I)),S=o,D=c,p=o+Z.width-y.width,W=c+Z.height-y.height,p>0&&(p>=o?o=0:o-=p),W>0&&(W>=c?c=0:c-=W),b=100*((S-o)/(Z.width-F)),s=100*((D-c)/(Z.height-F)),Y(R,U,o+M),Y(R,I,c+M)):"leftBottom"===a?(o=l(n(R,U)),E=l(n(R,L)),S=o,O=E,p=o+Z.width-y.width,W=E+Z.height-y.height,p>0&&(p>=o?o=0:o-=p),W>0&&(W>=E?E=0:E-=W),b=100*((S-o)/(Z.width-F)),s=100*(1-(O-E)/(Z.height-F)),Y(R,U,o+M),Y(R,L,E+M)):"rightTop"===a?($=l(n(R,g)),c=l(n(R,I)),k=$,D=c,p=$+Z.width-y.width,W=c+Z.height-y.height,p>0&&(p>=$?$=0:$-=p),W>0&&(W>=c?c=0:c-=W),b=100*(1-(k-$)/(Z.width-F)),s=100*((D-c)/(Z.height-F)),Y(R,g,$+M),Y(R,I,c+M)):"rightBottom"===a&&($=l(n(R,g)),E=l(n(R,L)),k=$,O=E,p=$+Z.width-y.width,W=E+Z.height-y.height,p>0&&(p>=$?$=0:$-=p),W>0&&(W>=E?E=0:E-=W),b=100*(1-(k-$)/(Z.width-F)),s=100*(1-(O-E)/(Z.height-F)),Y(R,g,$+M),Y(R,L,E+M)),R.children[0].style.display="block",R.children[1].style.display="block",R.children[2].style.display=K,Y(R,"padding",r+" "+x+" "+d+" "+e),Y(R,"-webkit-transform","scale("+B+", "+N+")"),Y(R,"-ms-transform","scale("+B+", "+N+")"),Y(R,"transform","scale("+B+", "+N+")"),R.$22i=b,R.$23i=s,Y(R,"-webkit-transform-origin",b+"% "+s+"%"),Y(R,"-ms-transform-origin",b+"% "+s+"%"),Y(R,"transform-origin",b+"% "+s+"%"),C.narrowWhenCollapse&&!C.expanded?Y(R,A,R.$51i+M):Y(R,A,R.$26i+M),t.$18i.fire({kind:"beginRestore",target:t,id:R.$15i}),R.$19i=!0,C.minimized=!1,m(function(){w(R).scale(1,1).end(function(){t.$17i()})},30),t.$10i()}},addEventListener:function(v,E,m){this.$18i.add(v,E,m)},removeEventListener:function(_,s){this.$18i.remove(_,s)},setPosition:function(x,O){var m=this._view,S=this.$2i;"leftTop"===S?(Y(m,U,x+M),Y(m,I,O+M),Y(m,g,y),Y(m,L,y)):"leftBottom"===S?(Y(m,U,x+M),Y(m,L,O+M),Y(m,g,y),Y(m,I,y)):"rightTop"===S?(Y(m,g,x+M),Y(m,I,O+M),Y(m,U,y),Y(m,L,y)):"rightBottom"===S&&(Y(m,g,x+M),Y(m,L,O+M),Y(m,U,y),Y(m,I,y)),delete m.$22i,delete m.$23i},getPosition:function(){var w=this._view,i=this.$2i;return"leftTop"===i?{x:l(n(w,U)),y:l(n(w,I))}:"leftBottom"===i?{x:l(n(w,U)),y:l(n(w,L))}:"rightTop"===i?{x:l(n(w,g)),y:l(n(w,I))}:"rightBottom"===i?{x:l(n(w,g)),y:l(n(w,L))}:void 0},setPositionRelativeTo:function(h){var x=this,w=x._view.querySelectorAll(".button-toggle"),k="control-button button-toggle",a=x.getPosition();x.$2i=h,x.setPosition(a.x,a.y);for(var C=0;C<w.length;C++){var t=w[C],Q=x.getPanelConfig(t.parentNode.parentNode.parentNode.$15i);t[E]=Q.expanded?h.indexOf("Bottom")>=0?k+" button-toggle-collapse":k+" button-toggle-expand":h.indexOf("Bottom")>=0?k+" button-toggle-expand":k+" button-toggle-collapse"}x.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(c){var t=this;t._68I||(t._68I=1,H.callLater(t.validate,t,V,c),t.onInvalidated&&t.onInvalidated(),t._41O("invalidate"));var F=this._config,G=F.content;G&&G.invalidate&&G.invalidate(),F.items&&F.items.forEach(function(Y){Y&&Y.content&&Y.content.invalidate&&Y.content.invalidate()})},$27i:function(U,u,f,N){var G=a.initContext(U);a.translateAndScale(G,0,0,1),G.clearRect(0,0,f,f);var T=(f-N)/2;H.drawStretchImage(G,H.getImage(u),"fill",0,T,N,N),G.restore()},$28i:function(i){var l,O,u,_=this,v=i.id,m=_.getPanelView(v),D=m.querySelector(".button-toggle"),d=_.$2i.indexOf("Bottom")>=0;if(O=d?H.panelCollapseIcon:H.panelExpandIcon,u=d?H.panelExpandIcon:H.panelCollapseIcon,D){l=i.expanded?H.getImage(u):H.getImage(O);var Y=_.$4i(i),A=_.$5i(i);_.$27i(D,l,Y,A)}},$29i:function(m){var K,U=this,D=m.id,s=U.getPanelView(D),N=s.querySelector(".button-independent-switch"),w=H.panelUnLockIcon,e=H.panelLockIcon;if(N){K=m.independent!==!0?H.getImage(e):H.getImage(w);var B=U.$4i(m),p=U.$5i(m);U.$27i(N,K,B,p)}},$30i:function(w){var S=this,V=w.id,I=S.getPanelView(V),P=I.querySelector(".button-minimize-minimize"),L=H.panelMinimizeIcon;if(P){var b=S.$4i(w),c=S.$5i(w);S.$27i(P,H.getImage(L),b,c)}},$31i:function(C){var j=this,Z=C.id,K=j.getPanelView(Z),F=K.querySelector(".button-minimize-restore"),s=C.titleIcon||H.panelRestoreIcon;if(F){var w=j.$20i();j.$27i(F,H.getImage(s),w,w)}},$32i:function(f){var g=this,j=f.id,F=g.getPanelView(j);if(f.buttons){var h=f.buttons;h.forEach(function(r){var G=r.name,z=r.icon;if(G&&z){var l=F.querySelector(".custombutton-"+G);if(l){var q=g.$4i(f),L=g.$5i(f)-1;g.$27i(l,H.getImage(z),q,L)}}})}},$33i:function(I){var Z=this,M=I.id,Y=Z.getPanelView(M),s=Y.querySelector(".panel-title-icon"),c=I.titleIcon;if(s&&c){var m=Z.$4i(I),l=Z.$5i(I);Z.$27i(s,H.getImage(c),m,l)}},validateImpl:function(){var k=this,i=k._config;k.$28i(i),k.$30i(i),k.$31i(i),k.$32i(i),k.$33i(i),i.items&&i.items.forEach(function(W){k.$28i(W),k.$29i(W),k.$32i(W)})}});var O=function(f){var h=this,g=f.getView();h.$34i=f,h.addListeners(),g.addEventListener("dblclick",h.$42i.bind(h))};H.def(O,D,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(g){for(var S=this.$34i,A=g.target,L=S.$35i,b=L.length,X=0;b>X;X++){var e=L[X];e.contains(A)&&(g.preventDefault(),S.togglePanel(e.parentNode.$15i))}},handle_touchstart:function(M){var G=this,u=G.$34i,x=u._config,X=x.flowLayout,Y=M;if(H.preventDefault(M),H.isLeftButton(M)){var V=M.target,A=u.getView().children[0],r=u.getView().querySelector(".button-minimize-restore");d&&(Y=R(M));var g=G.$40i={x:Y.pageX,y:Y.pageY};G.$41i={x:g.x,y:g.y},(!X&&A.contains(V)||r&&r.contains(V))&&(G.$38i=!0,H.startDragging(G,M)),!X&&G.handle_mousemove(M)&&(G.$37i=!0,H.startDragging(G,M),u.$11i())}},handle_mousedown:function(B){this.handle_touchstart(B)},handle_touchend:function(l){var b=this,n=b.$34i,H=l.target,k=n.$35i,O=k.length,a=0,_=n.getView(),P=_.querySelector(".button-minimize"),N=_.querySelector(".button-minimize-restore");if(!b.$39i&&!b.$36i){if(P&&P.contains(H)||N&&N.contains(H))l.preventDefault(),n._config.minimized?n.restore():n.minimize();else for(;O>a;a++){var S=k[a],J=S.parentNode,G=J.$15i,q=n.getPanelConfig(G),A=S.querySelector(".button-toggle"),Z=S.querySelector(".button-independent-switch");if(A===H)l.preventDefault(),n.togglePanel(G);else if(Z===H){l.preventDefault();var B="button-independent-switch-off",f="button-independent-switch-on";q.independent=q.independent==V?!0:!q.independent,Z[E]=q.independent?Z[E].replace(B,f):Z[E].replace(f,B),n.$29i(q)}else H[E]&&H[E].indexOf("control-button custombutton-")>=0&&S.contains(H)&&H._action.call(n,q,n.getPanelView(G),l)}delete b.$40i,delete b.$41i}},handle_mouseup:function(n){this.handle_touchend(n)},handleWindowTouchEnd:function(){var D=this,v=D.$34i;D.$37i&&D.$36i?(v.$18i.fire({kind:"endResize",target:v,id:v.getView().$15i}),v.$12i()):D.$38i&&D.$39i&&v.$18i.fire({kind:"endMove",target:v,id:v.getView().$15i}),this.clear()},handleWindowMouseUp:function(l){this.handleWindowTouchEnd(l)},handle_mousemove:function(r){var O=this,_=O.getView(),Z=_.querySelector(".resize-area"),h=Z.getBoundingClientRect(),j={x:h.left,y:h.top,width:h.width,height:h.height};r=d?R(r):r;var U=r.clientX,X=r.clientY,s=O.$34i._config;return s.expanded&&s.minimized!==!0&&H.containsPoint(j,{x:U,y:X})?(_.style.cursor="nwse-resize",!0):(_.style.cursor=y,void 0)},handleWindowTouchMove:function(u){u.preventDefault();var G=u;d&&(G=R(u));var V=this,q=V.$40i,E=V.$41i;if(!(E.x==q.x&&E.y==q.y&&H.getDistance(E,{x:G.pageX,y:G.pageY})<=1)){var r=V.$34i,Z=V.getView(),x=Z.parentNode,P=r._config,j=P.resizeMode||"wh",B=G.pageX-q.x,J=G.pageY-q.y,z=r.$2i;if(V.$37i){var i=Z.children[1].children[0],W=i.clientWidth,v=i.clientHeight,b=W+B,F=v+J;b=Math.max(b,100),F=Math.max(F,100),"w"===j?(Y(Z,Q,b+M),P.width=b,q.x+=b-W,z.indexOf(g)>=0&&Y(Z,g,l(n(Z,g))-(b-W)+M)):"h"===j?(Y(i,S,F+M),P.contentHeight=F,q.y+=F-v,z.indexOf("Bottom")>=0&&Y(Z,L,l(n(Z,L))-(F-v)+M)):"wh"===j&&(Y(Z,Q,b+M),Y(i,S,F+M),P.width=b,P.contentHeight=F,q.x+=b-W,q.y+=F-v,z.indexOf("right")>=0&&Y(Z,g,l(n(Z,g))-(b-W)+M),z.indexOf("Bottom")>=0&&Y(Z,L,l(n(Z,L))-(F-v)+M)),V.$36i?r.$18i.fire({kind:"betweenResize",target:r,id:r.getView().$15i}):(V.$36i=!0,r.$18i.fire({kind:"beginResize",target:r,id:r.getView().$15i}))}else if(V.$38i){var A,X,h,t,y,s,e,C,a,T,p=Z.getBoundingClientRect(),o=p.width,$=p.height,k=f(x),N=k.width,O=k.height,w=r._dragContainment;"leftTop"===z?(A=l(n(Z,U))||0,h=l(n(Z,I))||0,y=A+B,e=h+J,"parent"===w&&(y+o>N&&(y=N-o),e+$>O&&(e=O-$),0>y&&(y=0),0>e&&(e=0)),a=y-A,T=e-h,r.setPosition(y,e),q.x+=a,q.y+=T):"rightBottom"===z?(X=l(n(Z,g))||0,t=l(n(Z,L))||0,s=X-B,C=t-J,"parent"===w&&(0>s&&(s=0),0>C&&(C=0),s+o>N&&(s=N-o),C+$>O&&(C=O-$)),a=s-X,T=C-t,r.setPosition(s,C),q.x-=a,q.y-=T):"rightTop"===z?(X=l(n(Z,g))||0,h=l(n(Z,I))||0,s=X-B,e=h+J,"parent"===w&&(0>s&&(s=0),0>e&&(e=0),s+o>N&&(s=N-o),e+$>O&&(e=O-$)),a=s-X,T=e-h,r.setPosition(s,e),q.x-=a,q.y+=T):"leftBottom"===z&&(A=l(n(Z,U))||0,t=l(n(Z,L))||0,y=A+B,C=t-J,"parent"===w&&(0>y&&(y=0),0>C&&(C=0),y+o>N&&(y=N-o),C+$>O&&(C=O-$)),a=y-A,T=C-t,r.setPosition(y,C),q.x+=a,q.y-=T),V.$39i?r.$18i.fire({kind:"betweenMove",target:r,id:r.getView().$15i}):(V.$39i=!0,r.$18i.fire({kind:"beginMove",target:r,id:r.getView().$15i}))}}},handleWindowMouseMove:function(k){this.handleWindowTouchMove(k)}});var p=q.widget.PanelGroup=function(y){var C=this,R=C._view=v();R.style.border="1px dashed black",R.style.position="absolute",R.style.background="rgba(120, 120, 120, 0.4)",C.$48i=new q.List,C._tolerance=100,C._config=y||{hGap:0,vGap:0},C.bindHandlePanelMove=C.handlePanelMove.bind(C),C.bindHandlePanelEvent=C.handlePanelEvent.bind(C),C.invalidate()};H.def(p,D,{invalidate:function(){var a=this;a._68I||(a._68I=1,m(function(){a.validate()},50))},validate:function(){if(this._68I){delete this._68I;var Y=this.$48i.get(0);if(Y){var U=Y.getView().parentNode;U&&(this.layoutPanels(U,"leftTop"),this.layoutPanels(U,"rightTop"),this.layoutPanels(U,"leftBottom"),this.layoutPanels(U,"rightBottom"))}}},setLeftTopPanels:function(){var M=this,W=M.$43i,t=M.$48i;W==V&&(W=M.$43i=new q.List);for(var U=0;U<arguments.length;U++){var m=arguments[U];if("string"==typeof m)W.$49i=m;else{if(m._config.flowLayout)continue;m.setPositionRelativeTo("leftTop"),W.contains(m)||W.add(m),t.contains(m)||M.add(m)}}},setRightTopPanels:function(){var N=this,u=N.$44i,e=N.$48i;u==V&&(u=N.$44i=new q.List);for(var n=0;n<arguments.length;n++){var W=arguments[n];if("string"==typeof W)u.$49i=W;else{if(W._config.flowLayout)continue;W.setPositionRelativeTo("rightTop"),u.contains(W)||u.add(W),e.contains(W)||N.add(W)}}},setLeftBottomPanels:function(){var E=this,_=E.$45i,L=E.$48i;_==V&&(_=E.$45i=new q.List);for(var w=0;w<arguments.length;w++){var X=arguments[w];if("string"==typeof X)_.$49i=X;else{if(X._config.flowLayout)continue;X.setPositionRelativeTo("leftBottom"),_.contains(X)||_.add(X),L.contains(X)||E.add(X)}}},setRightBottomPanels:function(){var y=this,T=y.$46i,W=y.$48i;T==V&&(T=y.$46i=new q.List);for(var z=0;z<arguments.length;z++){var s=arguments[z];if("string"==typeof s)T.$49i=s;else{if(s._config.flowLayout)continue;s.setPositionRelativeTo("rightBottom"),T.contains(s)||T.add(s),W.contains(s)||y.add(s)}}},add:function(Z){if(!Z._config.flowLayout){var o=this,C=o.$48i;C.contains(Z)||(Z.addEventListener(o.bindHandlePanelMove),Z.addEventListener(o.bindHandlePanelEvent),C.add(Z))}},remove:function(v){var P=this,x=P.$48i;x.contains(v)&&(v.removeEventListener(P.bindHandlePanelMove),v.removeEventListener(P.bindHandlePanelEvent),x.remove(v),P.$43i.contains(v)&&P.$43i.remove(v),P.$44i.contains(v)&&P.$44i.remove(v),P.$45i.contains(v)&&P.$45i.remove(v),P.$46i.contains(v)&&P.$46i.remove(v))},layoutPanels:function(P,R,E){var H=this,S=H._config,f=S.hGap||0,C=S.vGap||0;if(P){var u=H.$43i;if("leftBottom"===R?u=H.$45i:"rightTop"===R?u=H.$44i:"rightBottom"===R&&(u=H.$46i),!u)return;var g=u.$49i,v=f,w=C;if(P.contains(H._view)&&P.removeChild(H._view),u&&u.size()>0)for(var V=0;V<u.size();V++){var O=u.get(V),e=O.getView();P=P||e.parentNode,E!==V?O.setPosition(v,w):("leftTop"===R?(H._view.style.right="",H._view.style.bottom="",H._view.style.left=v+M,H._view.style.top=w+M):"leftBottom"===R?(H._view.style.right="",H._view.style.top="",H._view.style.left=v+M,H._view.style.bottom=w+M):"rightTop"===R?(H._view.style.left="",H._view.style.bottom="",H._view.style.right=v+M,H._view.style.top=w+M):"rightBottom"===R&&(H._view.style.left="",H._view.style.top="",H._view.style.right=v+M,H._view.style.bottom=w+M),H._view.style.width=e.offsetWidth+M,H._view.style.height=e.offsetHeight+M,P.insertBefore(H._view,e)),"h"===g?v+=e.offsetWidth+f:"v"===g&&(w+=e.offsetHeight+C)}}},handlePanelEvent:function(h){if("beginToggle"===h.kind||"endToggle"===h.kind||"beginRestore"===h.kind||"endMinimize"===h.kind||"endResize"===h.kind){var s=this,f=h.target,P=f.getView(),I=P.parentNode,K=s.$43i,p=s.$44i,L=s.$45i,x=s.$46i,B=s._config,C=V,i=V,D=f.$47i;if(D==V&&(D=f.$47i=0),"beginToggle"===h.kind?D=f.$47i=D+1:"endToggle"===h.kind&&(D=f.$47i=D-1),K&&K.contains(f)?(C="leftTop",i=K):L&&L.contains(f)?(C="leftBottom",i=L):p&&p.contains(f)?(C="rightTop",i=p):x&&x.contains(f)&&(C="rightBottom",i=x),"beginToggle"===h.kind&&C&&1===D){var l=v(),Y=l.style,r=i.$49i,A="each";Y.fontSize="0",Y.position="absolute",Y.width="100%","leftTop"===C?(Y.left=0,Y.top=0):"leftBottom"===C?(Y.left=0,Y.bottom=0,"v"===r&&(A="reverseEach")):"rightTop"===C?(Y.right=0,Y.top=0,Y.textAlign="right","h"===r&&(A="reverseEach")):"rightBottom"===C&&(Y.right=0,Y.bottom=0,Y.textAlign="right",A="reverseEach"),i[A](function(I){var H=I.getView(),s=H.style,u=v();s.position="static",u.style.textAlign="left",u.style.position="relative",u.style.display="inline-block","leftTop"===C?(u.style.marginLeft=B.hGap+M,u.style.marginTop=B.vGap+M):"leftBottom"===C?(u.style.marginLeft=B.hGap+M,u.style.marginBottom=B.vGap+M):"rightTop"===C?(u.style.marginRight=B.hGap+M,u.style.marginTop=B.vGap+M):"rightBottom"===C&&(u.style.marginRight=B.hGap+M,u.style.marginBottom=B.vGap+M),u.appendChild(H),l.appendChild(u),"h"===r?u.style.verticalAlign="leftTop"===C||"rightTop"===C?"top":"bottom":l.appendChild(G("br"))}),s.$54i=l,I.appendChild(l)}else"endToggle"===h.kind&&C&&0===D?m(function(){I=I.parentNode.parentNode,I.removeChild(s.$54i),delete s.$54i,i.each(function(U){var N=U.getView(),g=N.style;g.position="absolute",I.appendChild(N)}),s.layoutPanels(I,C)},30):("beginRestore"===h.kind||"endMinimize"===h.kind||"endResize"===h.kind)&&C&&s.layoutPanels(I,C)}},handlePanelMove:function(J){if(!(J.kind.indexOf("Move")<0)){var f=this,Y=f._config,p=Y.hGap||0,W=Y.vGap||0,Q=J.target,h=Q._view,X=h.getBoundingClientRect(),x=X.width,y=X.height,$=x/2,m=y/2,K=h.parentNode,E=f.$43i,G=f.$44i,a=f.$45i,I=f.$46i,Z=K.getBoundingClientRect(),n=f._tolerance;if("endMove"===J.kind){var z=f._corner;z&&(Q.setPositionRelativeTo(z),f.layoutPanels(K,z)),delete f._corner}if("betweenMove"===J.kind){var U=Z.left,e=Z.top,D=Z.width,o=Z.height,F=X.left+x/2,O=X.top+y/2;E==V&&(E=f.$43i=new q.List),a==V&&(a=f.$45i=new q.List),G==V&&(G=f.$44i=new q.List),I==V&&(I=f.$46i=new q.List),delete f._corner,E.contains(Q)?(E.remove(Q),f.layoutPanels(K,"leftTop")):a.contains(Q)?(a.remove(Q),f.layoutPanels(K,"leftBottom")):G.contains(Q)?(G.remove(Q),f.layoutPanels(K,"rightTop")):I.contains(Q)&&(I.remove(Q),f.layoutPanels(K,"rightBottom"));var M=function(y,C){var A=U+p,X=e+W;if(0===C.size()){var M=A+$,r=X+m;"leftBottom"===y?r=e+o-W-m:"rightTop"===y?M=U+D-p-$:"rightBottom"===y&&(M=U+D-p-$,r=e+o-W-m);var h=F-M,i=O-r,I=Math.sqrt(h*h+i*i);if(n>I)return f._corner=y,C.add(Q),f.layoutPanels(K,y,0),!0}else if(1===C.size()){var G=C.get(0),c=G.getView().getBoundingClientRect(),w=c.left+$,b=c.top+m,x=c.left+c.width+p+$,v=X+m,t=A+$,u=c.top+c.height+W+m;"leftBottom"===y?(b=c.top+c.height-m,v=e+o-W-m,u=c.top-W-m):"rightTop"===y?(w=c.left+c.width-$,x=c.left-p-$,t=U+D-p-$):"rightBottom"===y&&(w=c.left+c.width-$,b=c.top+c.height-m,x=c.left-p-$,v=e+o-W-m,t=U+D-p-$,u=c.top-W-m);var z=F-w,q=O-b,L=F-x,H=O-v,k=F-t,T=O-u,s=l(Math.sqrt(z*z+q*q)),S=l(Math.sqrt(L*L+H*H)),j=l(Math.sqrt(k*k+T*T)),E=[s,S,j];E.sort(function(W,R){return W-R});var Y=E[0];if(n>Y){if(f._corner=y,Y===s)return C.add(Q,0),f.layoutPanels(K,y,0),!0;if(Y===S)return C.add(Q),C.$49i="h",f.layoutPanels(K,y,1),!0;if(Y===j)return C.add(Q),C.$49i="v",f.layoutPanels(K,y,1),!0}}else if(C.size()>1){for(var Z=V,d={},R=[],J=C.$49i,P=0;P<C.size();P++){var N=C.get(P),B=N.getView(),_=B.getBoundingClientRect(),a=_.left+$,g=_.top+m;"leftBottom"===y?g=_.top+_.height-m:"rightTop"===y?a=_.left+_.width-$:"rightBottom"===y&&(a=_.left+_.width-$,g=_.top+_.height-m),P===C.size()-1&&(Z=_);var h=F-a,i=O-g,I=l(Math.sqrt(h*h+i*i));d[I]=P,R.push(I)}"leftTop"===y&&"h"===J?(M=Z.left+Z.width+p+$,r=X+m):"leftTop"===y&&"v"===J?(M=A+$,r=Z.top+Z.height+W+m):"leftBottom"===y&&"h"===J?(M=Z.left+Z.width+p+$,r=e+o-W-m):"leftBottom"===y&&"v"===J?(M=A+$,r=Z.top-W-m):"rightTop"===y&&"h"===J?(M=Z.left-p-$,r=X+m):"rightTop"===y&&"v"===J?(M=U+D-p-$,r=Z.top+Z.height+W+m):"rightBottom"===y&&"h"===J?(M=Z.left-p-$,r=e+o-W-m):"rightBottom"===y&&"v"===J&&(M=U+D-p-$,r=Z.top-W-m),h=F-M,i=O-r,I=l(Math.sqrt(h*h+i*i)),d[I]=P,R.push(I),R.sort(function(u,J){return u-J});var Y=R[0];if(n>Y)return f._corner=y,C.add(Q,d[Y]),f.layoutPanels(K,y,d[Y]),!0}};M("leftTop",E)||M("leftBottom",a)||M("rightTop",G)||M("rightBottom",I)}}}})}(this,Object);