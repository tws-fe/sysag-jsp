!function(q,N){"use strict";var H="ht",d=q[H],t="px",i="left",C="top",b="bottom",r="right",R="innerHTML",j="className",E="",J="width",X="height",w="string",M="position",T="absolute",v="0",B="opacity",h="background",U=d.Default,z=U.getInternal(),Q=d.Color,_=U.animate,s=U.isTouchable,p=null,O=(Math.sqrt,q.parseInt),f=q.setTimeout,A=(Math.round,Q.titleIconBackground),k=function(L){return typeof L===w||L instanceof String},D=function(){return document},e=function(r){return D().createElement(r)},Z=function(){var U=e("div");return U.tabIndex=-1,U.style.outline="none",U},P=function(){return e("canvas")},g=function(Y,z){l(Y,"-webkit-transform",z),l(Y,"-ms-transform",z),l(Y,"transform",z)},l=function(e,m,A){e.style.setProperty(m,A,p)},n=function(P,J,B){U.def(d.widget[P],J,B)},S=function(H,f){H.appendChild(f)},x=function(n,c){n.removeChild(c)},K=function(){return D().body},G=function(){return D().documentElement},L=function(){return G().clientWidth},F=function(){return G().clientHeight},I=function(q,Q,$,x){q.addEventListener(Q,$,!!x)},$=function(o){var Z=o.touches[0];return Z?Z:o.changedTouches[0]};z.addMethod(U,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:A},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:A}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:A},{type:"rect",rect:[10,10,80,20],background:A}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:A},{type:"rect",rect:[10,34,56,14],background:A},{type:"rect",rect:[34,10,56,14],background:A},{type:"rect",rect:[82,10,8,56],background:A},{type:"rect",rect:[66,62,24,8],background:A}]},dialogTitleLabelColor:U.labelSelectColor,dialogTitleLabelFont:(s?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:U.labelFont,dialogTitleBackground:Q.titleBackground,dialogHeaderBackground:Q.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var u=function(r){var o=this;o.$1d=r,o.addListeners()};U.def(u,N,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(f){var k=this,E=k.$1d,v=E.$6d,w=E._config,W=E.$7d,p=f,z=f.target;if(W.contains(z)||U.preventDefault(f),U.isLeftButton(f)){s&&(p=$(f));var Y=k.$8d={x:p.pageX,y:p.pageY};k.$9d={x:Y.x,y:Y.y},!w.maximized&&w.draggable&&v.contains(z)&&(k.$4d=!0,U.startDragging(k,f)),k.handle_mousemove(f)&&(k.$2d=!0,U.startDragging(k,f)),W.contains(f.target)||E.$41d.focus()}},handle_mousedown:function(x){this.handle_touchstart(x)},handle_touchend:function(_){if(U.isLeftButton(_)&&!this.$5d&&!this.$3d){var s=this,w=s.$1d,Q=_.target,t=w._config,N=w.$18d,o=w.$16d;for(t.closable&&N.contains(Q)&&w.hide(),t.maximizable&&o.contains(Q)&&(t.maximized?w.restore():w.maximize());Q&&(Q.className||"").indexOf("dialog-button")<0;)Q=Q.parentNode;Q&&Q.buttonItem&&w.action&&w.action(Q.buttonItem,_),delete s.$8d,delete s.$9d}},handle_mouseup:function(K){this.handle_touchend(K)},handleWindowTouchEnd:function(X){var y=this,s=y.$1d,R=s.$10d;y.$2d&&y.$3d?R.fire({kind:"endResize",target:s,originEvent:X}):y.$4d&&y.$5d&&R.fire({kind:"endMove",target:s,originEvent:X}),this.clear()},handleWindowMouseUp:function(C){this.handleWindowTouchEnd(C)},handle_mousemove:function(G){var v=this.$1d._config;if(v.maximized)return!1;if("w"!==v.resizeMode&&"h"!==v.resizeMode&&"wh"!==v.resizeMode)return!1;var S=this,w=S.getView(),u=w.querySelector(".resize-area"),y=u.getBoundingClientRect(),P={x:y.left,y:y.top,width:y.width,height:y.height};G=s?$(G):G;var t=G.clientX,Q=G.clientY,O={x:t,y:Q};return U.containsPoint(P,O)?(l(w,"cursor","nwse-resize"),!0):(l(w,"cursor",E),void 0)},handleWindowTouchMove:function(m){m.preventDefault();var g=m;s&&(g=$(m));var S=this,N=S.$8d,M=S.$9d;if(!(M.x==N.x&&M.y==N.y&&U.getDistance(M,{x:g.pageX,y:g.pageY})<=1)){var u=S.$1d,J=u._config,D=u.$21d,R=J.resizeMode||"wh",b=g.pageX-N.x,d=g.pageY-N.y;if(S.$2d){var q=D.offsetWidth,Y=D.offsetHeight,G=q+b,w=Y+d;if(G=Math.max(G,50),w=Math.max(w,50),"center"===J.position||J.position==p){var B={},e=D.getBoundingClientRect();B.x=e.left,B.y=e.top,J.position=B}"w"===R?(u.setSize(G,Y),N.x+=G-q):"h"===R?(u.setSize(q,w),N.y+=w-Y):"wh"===R&&(u.setSize(G,w),N.x+=G-q,N.y+=w-Y),S.$3d?u.$10d.fire({kind:"betweenResize",target:u,originEvent:m}):(S.$3d=!0,u.$10d.fire({kind:"beginResize",target:u,originEvent:m}))}else if(S.$4d){var P=D.getBoundingClientRect(),r=P.width,A=P.height,j=L(),c=F(),o=O(D.style.left)||0,_=O(D.style.top)||0,V=o+b,K=_+d;V+r>j&&(V=j-r),K+A>c&&(K=c-A),0>V&&(V=0),0>K&&(K=0);var Q=V-o,x=K-_;l(D,i,V+t),l(D,C,K+t),N.x+=Q,N.y+=x,J.position={x:V,y:K},S.$5d?u.$10d.fire({kind:"betweenMove",target:u,originEvent:m}):(S.$5d=!0,u.$10d.fire({kind:"beginMove",target:u,originEvent:m}))}}},handleWindowMouseMove:function(l){this.handleWindowTouchMove(l)},handleWindowResize:function(){var j=this,q=j,p=q._config,K=q.$21d,B=L(),E=F(),O=p.width,o=p.height,Z=p.position||"center";p.maximized?(l(K,J,B+t),l(K,X,E+t),l(K,C,v),l(K,i,v)):(l(K,J,O+t),l(K,X,o+t),"center"===Z?(l(K,i,(B-O)/2+t),l(K,C,(E-o)/2+t)):(l(K,i,Z.x+t),l(K,C,Z.y+t)))},handle_mousewheel:function(S){S.stopPropagation()},handle_DOMMouseScroll:function(S){S.stopPropagation()}}),d.widget.Dialog=function(r){var H=this,J=H._view=Z();J[j]="ht-widget-dialog",l(J,M,T),U.baseZIndex!=p&&l(J,"z-index",U.baseZIndex+"");var K=H.$11d=new u(H);H.bindingHandleWindowResize=K.handleWindowResize.bind(H),H.$10d=new d.Notifier,r&&H.setConfig(r)},n("Dialog",N,{ms_v:1,setTitle:function(A){this._config.title=A,this.getView().querySelector(".dialog-container-title span").innerHTML=A},$31d:function(){var $=this,c=$.$6d=Z(),A=$._config,W=$.$12d=$.$13d();c[j]="dialog-container-title",l(c,"cursor","default"),l(c,"white-space","nowrap"),l(c,"overflow","hidden"),l(c,"font",U.dialogTitleLabelFont),l(c,h,A.titleBackground||U.dialogTitleBackground),l(c,"color",A.titleColor||U.dialogTitleLabelColor);var E=e("span"),b=$.$25d();if(A.titleAlign&&l(c,"text-align",A.titleAlign),A.titleIcon){var F=$.$14d=$.$15d();S(c,F)}if(E[R]=A.title,S(c,E),A.maximizable){var s=$.$16d=$.$17d();S(W,s)}if(A.closable){var Y=$.$18d=$.$19d();S(W,Y)}return S(c,W),l(c,"display","block"),l(c,"line-height",b+t),c},$13d:function(){var A=Z();return l(A,M,T),l(A,i,v),l(A,r,5+t),l(A,C,v),l(A,b,v),l(A,"text-align",r),l(A,"white-space","nowrap"),A[j]="dialog-title-controls",A},$20d:function(){var u=this.$21d=Z(),H=this._config,s=H.borderWidth;return l(u,M,"fixed"),l(u,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),l(u,"padding",v+" "+s+t+" "+s+t+" "+s+t),l(u,"box-sizing","border-box"),l(u,"-moz-box-sizing","border-box"),u[j]="dialog-container",l(u,h,H.titleBackground||U.dialogTitleBackground),u},$22d:function(){var m,u=this,F=u._config,H=u.$7d=Z(),f=F.content,d=0,$=F.contentPadding||0;F.buttons!=p&&F.buttons.length>0&&(d=32),k(f)?H[R]=f:f.getView?(m=f.getView(),S(H,m)):(m=f,S(H,m)),l(H,M,T),l(H,"font",U.dialogContentLabelFont),S(K(),H);var B=H.offsetWidth+1,O=H.offsetHeight,V=u.$25d();return F.width==p&&(F.width=B+10+2*$),F.height==p&&(F.height=O+V+d+5+2*$),x(K(),H),m&&(l(m,"box-sizing","border-box"),l(m,"-moz-box-sizing","border-box"),l(m,J,"100%"),l(m,X,"100%")),H[j]="dialog-content",l(H,C,V+$+t),l(H,b,d+$+t),l(H,i,$+t),l(H,r,$+t),l(H,"overflow","hidden"),H},$23d:function(){var $=this.$41d=Z();return $[j]="dialog-overlay",l($,J,"100%"),l($,X,"100%"),l($,M,"fixed"),l($,C,v),l($,i,v),l($,h,"rgba(235, 235, 235, 0.7)"),$},_config:p,setSize:function(s,O){var J=this,A=J._config;A&&(A.width=s,A.height=O,J.isShowing()&&(J.bindingHandleWindowResize(),J.iv()))},getConfig:function(){return this._config},$24d:function(){var Z=this._config,h=Z.titleIconSize||16;return s&&(h*=1.2),h},$25d:function(){var I=this._config,T=I.titleHeight||U.widgetTitleHeight;return T},$26d:function(r){l(r,"cursor","pointer"),l(r,"display","inline-block"),l(r,"margin-right",(s?8:4)+t),l(r,"vertical-align",C)},$27d:function(){var $=this.$30d=Z(),k=10;return s&&(k=20),l($,J,k+t),l($,X,k+t),l($,M,T),l($,b,v),l($,r,v),$[j]="resize-area",$},$15d:function(){var H=this,n=P();n[j]="dialog-title-control dialog-title-control-icon";var l=H.$25d(),v=H.$24d();return H.$26d(n),z.setCanvas(n,v,l),n},$17d:function(){var G=P();G[j]="dialog-title-control dialog-title-control-maximize";var C=this.$25d(),f=this.$24d();return this.$26d(G),z.setCanvas(G,f,C),G},$19d:function(){var Z=P();Z[j]="dialog-title-control dialog-title-control-close";var r=this.$25d(),B=this.$24d();return this.$26d(Z),z.setCanvas(Z,B,r),Z},$28d:function(){var A=Z();return l(A,h,"white"),l(A,J,"100%"),l(A,X,"100%"),l(A,M,"relative"),A},$29d:function(){var A=this,F=Z();l(F,"line-height",32+t),l(F,M,T),l(F,b,v),l(F,i,v),l(F,"white-space","nowrap"),l(F,"overflow","hidden"),l(F,r,v),l(F,h,U.dialogHeaderBackground),F[j]="dialog-container-buttons";var y=this._config,g=y.buttonsAlign||r,O=0;return l(F,"text-align",g),A.$42d=[],y.buttons.forEach(function(c){var P=new d.widget.Button,$=P.getView();$[j]="dialog-button",$.buttonItem=c,A.$42d.push(P),P.setBorderColor(p),P.setBackground(U.dialogButtonBackground),P.setSelectBackground(U.dialogButtonSelectBackground),P.setLabelColor(U.dialogButtonLabelColor),l($,M,"static"),l($,"display","inline-block"),l($,"text-align",i),l($,"height",24+t);var H=s?10:5;g===i||g===r?l($,"margin-"+g,H+t):0===O||l($,"margin-"+i,H+t),l($,"vertical-align","middle");var X=U.getTextSize(P.getLabelFont(),c.label).width+10;P.onClicked=function(Q){c.action&&c.action.call(A,c,Q)},P.setLabel(c.label),l($,J,X+t),S(F,P.getView()),O++}),F},setConfig:function(H){if(H){var G=this,c=G._view;G._config=H,G.action=H.action,c[R]=E,H.borderWidth==p&&(H.borderWidth=5);var m=G.$23d(),O=G.$28d(),l=G.$31d(),b=G.$22d(),k=G.$20d(),Y=G.$30d=G.$27d();if(S(c,m),S(c,k),S(k,O),S(O,l),S(O,b),H.buttons!=p&&H.buttons.length>0){var s=G.$29d();S(O,s)}S(k,Y),H.maximized?(H.maximized=!1,G.bindingHandleWindowResize(),G.maximize(!0)):G.bindingHandleWindowResize(),G.isShowing()&&G.iv()}},hide:function(){var Q=this,T=Q.$21d,n=Q.$41d,U=Q._view;U[j]="ht-widget-dialog",_(T).duration(200).scale(.7).set(B,v).end(function(){Q.onHidden&&Q.onHidden(),x(K(),U),Q.$10d.fire({kind:"hide",target:Q})}),_(n).duration(200).set(B,v).end(),q.removeEventListener("resize",Q.bindingHandleWindowResize)},isShowing:function(){return K().contains(this._view)},$32d:function(){var I=this,X=I._config,K=I.$21d;g(K,E),I.iv(),X.maximized?I.$10d.fire({kind:"maximize",target:I}):I.$10d.fire({kind:"restore",target:I})},maximize:function(A){var z=this,g=z.$21d,s=z._config;if(!s.maximized){s.maximized=!0,z.$33d(),z.$16d[j]="dialog-title-control dialog-title-control-minimize";var S=L(),B=F(),D=s.width,p=s.height,H=O(g.style.left)||0,I=O(g.style.top)||0;z.$36d=D,z.$37d=p,z.$34d=H,z.$35d=I;var r=A?0:200;_(g).duration(r).set(i,v).set(C,v).set(J,S+t).set(X,B+t).end(function(){z.$32d()})}},restore:function(){var c=this,A=c.$34d,S=c.$35d,T=c.$36d,m=c.$37d,v=c._config;if(v.maximized&&(v.maximized=!1,c.$33d(),c.$16d[j]="dialog-title-control dialog-title-control-maximize",c.isShowing()&&A!=p&&S!=p&&T!=p&&m!=p)){var z=c.$21d;_(z).duration(200).set(i,A+t).set(C,S+t).set(J,T+t).set(X,m+t).end(function(){c.$32d()})}delete c.$34d,delete c.$35d,delete c.$36d,delete c.$37d},show:function(){var i=this,H=i._view,e=i._config,u=i.$21d,M=i.$41d;e&&e.zIndex!=p&&l(H,"z-index",e.zIndex+E),S(K(),H),g(u,"scale(0.7)"),l(u,B,v),i.iv(),i.validate(),i._view[j]+=" dialog-show",f(function(){_(u).duration(200).scale(1).set(B,"1").end(function(){l(u,J,u.clientWidth+t),l(u,X,u.clientHeight+t),i.onShown&&i.onShown(),i.$10d.fire({kind:"show",target:i})}),_(M).duration(200).set(B,"1").end(),I(q,"resize",i.bindingHandleWindowResize)},30)},addEventListener:function(I,B,j){this.$10d.add(I,B,j)},removeEventListener:function(C,a){this.$10d.remove(C,a)},$38d:function(k,p,I,r){var x=z.initContext(k);z.translateAndScale(x,0,0,1),x.clearRect(0,0,I,I);var c=(I-r)/2;U.drawStretchImage(x,U.getImage(p),"fill",0,c,r,r),x.restore()},$33d:function(){var _=this,T=_._config,G=_.$16d,f=T.maximized?U.dialogRestoreIcon:U.dialogMaximizeIcon;if(G&&f){var Z=_.$25d(),z=_.$24d();_.$38d(G,U.getImage(f),Z,z)}},$39d:function(){var L=this,H=L._config,p=L.$14d,J=H.titleIcon;if(p&&J){var N=L.$25d(),j=L.$24d();L.$38d(p,U.getImage(J),N,j)}},$40d:function(){var O=this,s=O.$18d,V=U.dialogCloseIcon;if(s&&V){var D=O.$25d(),w=O.$24d();O.$38d(s,U.getImage(V),D,w)}},invalidate:function(g){var Q=this,B=Q.$42d;Q._68I||(Q._68I=1,U.callLater(Q.validate,Q,p,g),Q.onInvalidated&&Q.onInvalidated(),Q._41O("invalidate"));var P=Q._config.content;P.invalidate&&P.invalidate(),B&&B.forEach(function(e){e.iv()})},validateImpl:function(){var V=this;V.$40d(),V.$33d(),V.$39d()}})}(this,Object);